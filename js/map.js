var _0x4b6ab7=_0x33ae;(function(_0xf0b44e,_0x10fecc){var _0x5c30e8=_0x33ae,_0x5b3c4e=_0xf0b44e();while(!![]){try{var _0x22e6e9=parseInt(_0x5c30e8(0x10e))/0x1*(-parseInt(_0x5c30e8(0x105))/0x2)+-parseInt(_0x5c30e8(0xe1))/0x3*(parseInt(_0x5c30e8(0x113))/0x4)+parseInt(_0x5c30e8(0xd5))/0x5+-parseInt(_0x5c30e8(0x117))/0x6+-parseInt(_0x5c30e8(0x10c))/0x7+parseInt(_0x5c30e8(0x104))/0x8*(-parseInt(_0x5c30e8(0xf3))/0x9)+parseInt(_0x5c30e8(0xc6))/0xa;if(_0x22e6e9===_0x10fecc)break;else _0x5b3c4e['push'](_0x5b3c4e['shift']());}catch(_0x509855){_0x5b3c4e['push'](_0x5b3c4e['shift']());}}}(_0x7d51,0x7deb4));var xMemo='',SelectGroup='',GotoGroup=0x0,CountPeople='',dateString='';$(document)[_0x4b6ab7(0xd3)](function(){var _0x2e206e=_0x4b6ab7;Connect_DB(),CheckPeople(),LoadMap(),setInterval(_0x2e206e(0xfd),0x1f40);});function Connect_DB(){var _0x511eb9=_0x4b6ab7,_0x3e1424={'apiKey':_0x511eb9(0xd6),'authDomain':_0x511eb9(0xee),'projectId':'retailproject-6f4fc','storageBucket':_0x511eb9(0xe9),'messagingSenderId':_0x511eb9(0x100),'appId':_0x511eb9(0xed),'measurementId':'G-9SKTRHHSW9'};firebase[_0x511eb9(0xf1)](_0x3e1424),dbttbreserve=firebase[_0x511eb9(0xc3)]()[_0x511eb9(0xf0)](_0x511eb9(0xbc)),dbttbreservemap=firebase['firestore']()[_0x511eb9(0xf0)](_0x511eb9(0xde));}function CheckPeople(){var _0xbac440=_0x4b6ab7,_0x3d0f92=0x0,_0x245b02=0x0,_0x17f819=0x0;dbttbreserve[_0xbac440(0xeb)](_0xbac440(0xc5),'==',_0xbac440(0xe8))[_0xbac440(0xfa)](_0xbac440(0x111),'asc')['get']()[_0xbac440(0x110)](_0x58b56e=>{var _0x34c658=_0xbac440;_0x58b56e[_0x34c658(0xd0)](_0x4b4591=>{var _0x4f00e4=_0x34c658;if(_0x4b4591['data']()[_0x4f00e4(0x111)]=='A')_0x3d0f92=_0x3d0f92+_0x4b4591['data']()['People'];else{if(_0x4b4591[_0x4f00e4(0xf8)]()[_0x4f00e4(0x111)]=='B')_0x245b02=_0x245b02+_0x4b4591[_0x4f00e4(0xf8)]()[_0x4f00e4(0x10b)];else _0x4b4591['data']()['TableGroup']=='C'&&(_0x17f819=_0x17f819+_0x4b4591['data']()[_0x4f00e4(0x10b)]);}}),$('#RegCustomer')[_0x34c658(0xd8)](_0x3d0f92+_0x34c658(0xc0)),$(_0x34c658(0x107))['html'](_0x245b02+'\x20ท่าน'),$(_0x34c658(0xc1))['html'](_0x17f819+_0x34c658(0xc0));});}function LoadMap(){var _0x1225d9=_0x4b6ab7,_0x43c75a='',_0x1d39ec='';_0x43c75a+=_0x1225d9(0xd7),dbttbreservemap['orderBy'](_0x1225d9(0xbb),_0x1225d9(0xc2))[_0x1225d9(0xfa)](_0x1225d9(0xe4),_0x1225d9(0xc2))[_0x1225d9(0x103)]()[_0x1225d9(0x110)](_0x22be06=>{var _0x33edfe=_0x1225d9;_0x22be06[_0x33edfe(0xd0)](_0x146db0=>{var _0x30927e=_0x33edfe;_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0xbb)]!=_0x1d39ec&&(_0x1d39ec=_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0xbb)],_0x43c75a+=_0x30927e(0xe7),_0x43c75a+=_0x30927e(0x11a)+_0x146db0['data']()['Table']+_0x30927e(0xe6));if(_0x146db0['data']()[_0x30927e(0xc5)]==_0x30927e(0xe8))_0x43c75a+=_0x30927e(0x10d)+_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0x11b)]+_0x30927e(0xef);else _0x146db0['data']()[_0x30927e(0xc5)]==_0x30927e(0x101)?_0x43c75a+='<div\x20class=\x22TableGroup\x22\x20onclick=\x22ClickMember(\x27'+_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0x11b)]+_0x30927e(0xef):_0x43c75a+=_0x30927e(0xc7)+_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0x11b)]+'\x27)\x22>';if(_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0xfe)]=='A')_0x43c75a+='<div><img\x20src=\x22'+_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0xc4)]+'\x22\x20class=\x22imgTable\x22\x20onerror=\x22javascript:imgError(this)\x22><br>'+_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0xe4)]+_0x30927e(0xe6);else _0x146db0[_0x30927e(0xf8)]()['CustomerType']=='B'?_0x43c75a+=_0x30927e(0xd1)+_0x146db0[_0x30927e(0xf8)]()['Profileimg']+_0x30927e(0x116)+_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0xe4)]+_0x30927e(0xe6):_0x43c75a+=_0x30927e(0xd1)+_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0xc4)]+_0x30927e(0xdb)+_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0xe4)]+'</div>';_0x43c75a+='';if(_0x146db0[_0x30927e(0xf8)]()[_0x30927e(0xc5)]==_0x30927e(0xe8))_0x43c75a+='<div\x20class=\x22check-customermap\x22><img\x20src=\x22./img/true.png\x22></div>';else _0x146db0[_0x30927e(0xf8)]()[_0x30927e(0xc5)]==_0x30927e(0x101)&&(_0x43c75a+=_0x30927e(0xd2));_0x43c75a+=_0x30927e(0xe6);}),_0x43c75a+=_0x33edfe(0xe6),$('#DisplayMap')[_0x33edfe(0xd8)](_0x43c75a);}),CheckPeople();}function ClickMember(_0x44852c){var _0x225e3f=_0x4b6ab7,_0x4ed3f7='';dbttbreserve[_0x225e3f(0xeb)](firebase[_0x225e3f(0xc3)][_0x225e3f(0xce)][_0x225e3f(0x118)](),'==',_0x44852c)['get']()[_0x225e3f(0x110)](_0x2ec08e=>{var _0xf02da7=_0x225e3f;_0x2ec08e[_0xf02da7(0xd0)](_0xa0dd95=>{var _0x283a23=_0xf02da7;if(_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0x111)]=='A'){xMemo=_0xa0dd95['data']()[_0x283a23(0x115)];if(_0xa0dd95[_0x283a23(0xf8)]()['RegisterType']==_0x283a23(0xe8))_0x4ed3f7+='<div\x20class=\x22check-register\x22><font\x20color=\x22#ffff00\x22>'+_0xa0dd95[_0x283a23(0xf8)]()['RegisterType']+_0x283a23(0x10f)+_0xa0dd95[_0x283a23(0xf8)]()['People']+'\x20ท่าน\x20|\x20'+_0xa0dd95['data']()[_0x283a23(0xbe)]+',\x20'+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xdd)]+_0x283a23(0xe6);else _0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xc5)]==_0x283a23(0x101)?_0x4ed3f7+=_0x283a23(0xdc)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xc5)]+_0x283a23(0x10f)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0x10b)]+_0x283a23(0xcc)+_0xa0dd95[_0x283a23(0xf8)]()['TableNo1']+',\x20'+_0xa0dd95[_0x283a23(0xf8)]()['TableNo2']+_0x283a23(0xe6):_0x4ed3f7+=_0x283a23(0xf4)+_0xa0dd95['data']()[_0x283a23(0x10b)]+_0x283a23(0xcc)+_0xa0dd95['data']()[_0x283a23(0xbe)]+',\x20'+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xdd)]+_0x283a23(0xe6);_0x4ed3f7+=_0x283a23(0xd1)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xc4)]+'\x22\x20style=\x22width:\x20120px;margin:10px\x20auto;border-radius:\x2050%;\x22\x20onerror=\x22javascript:imgError(this)\x22></div>',_0x4ed3f7+=_0x283a23(0x119)+_0xa0dd95['data']()[_0x283a23(0xfc)],_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xcb)]!=''&&(_0x4ed3f7+='\x20('+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xcb)]+')\x20'),_0xa0dd95['data']()[_0x283a23(0x11c)]!=''&&(_0x4ed3f7+=_0x283a23(0xc8)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0x11c)]),_0x4ed3f7+=_0x283a23(0xe6),_0x4ed3f7+=_0x283a23(0xda)+_0xa0dd95[_0x283a23(0xf8)]()['Position']+_0x283a23(0xc8)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0x108)]+_0x283a23(0xc8)+_0xa0dd95['data']()[_0x283a23(0x10a)]+'</div>',_0x4ed3f7+=_0x283a23(0xec)+_0xa0dd95['data']()['Staff']+_0x283a23(0xc8)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xbf)]+_0x283a23(0xe6),_0xa0dd95['data']()['RegisterType']=='Registered'&&(_0x4ed3f7+=_0x283a23(0xff),_0x4ed3f7+='<div\x20id=\x22DisplayMemo\x22\x20style=\x22color:#f68b1f;font-size:11px;margin-top:10px;\x22>'+_0xa0dd95[_0x283a23(0xf8)]()['Memo']+'</div>',_0x4ed3f7+='<div\x20style=\x22color:#888;margin-top:10px;font-size:11px;\x22><u>พิมพ์รายการความสนใจ\x20ที่นี่</u></div>',_0x4ed3f7+=_0x283a23(0x109),_0x4ed3f7+=_0x283a23(0x112)+_0xa0dd95['id']+_0x283a23(0xc9)+xMemo+_0x283a23(0xf5));}else _0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xc5)]==''?_0x4ed3f7+=_0x283a23(0xe5)+_0xa0dd95[_0x283a23(0xf8)]()['People']+_0x283a23(0xcc)+_0xa0dd95['data']()[_0x283a23(0xbe)]+'</div>':_0x4ed3f7+=_0x283a23(0xf9)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xc5)]+_0x283a23(0xdf)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0x10b)]+_0x283a23(0xcc)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xbe)]+_0x283a23(0xe6),_0x4ed3f7+=_0x283a23(0xd1)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0xc4)]+_0x283a23(0xf2),_0x4ed3f7+=_0x283a23(0x119)+_0xa0dd95['data']()[_0x283a23(0xfc)]+_0x283a23(0xe6),_0x4ed3f7+='<div\x20style=\x22color:#fff;font-size:\x2011px;\x22>'+_0xa0dd95[_0x283a23(0xf8)]()['Position']+_0x283a23(0xc8)+_0xa0dd95[_0x283a23(0xf8)]()[_0x283a23(0x108)]+_0x283a23(0xe6);_0x4ed3f7+='<hr><div\x20class=\x22btn-t22\x22\x20onclick=\x22CloseAll()\x22>Close</div>',_0x4ed3f7+=_0x283a23(0xe2);}),$(_0xf02da7(0x102))[_0xf02da7(0xd8)](_0x4ed3f7);}),document[_0x225e3f(0xf6)](_0x225e3f(0xe3))['style'][_0x225e3f(0xcd)]=_0x225e3f(0xba);}function SaveMemo(_0x2ad17d,_0x340b9b){var _0x3eb805=_0x4b6ab7,_0x427024=document[_0x3eb805(0xf6)](_0x3eb805(0xd9))['value'];_0x427024!=''&&(xMemo+=_0x427024+'<br><font\x20color=#c5ac94>'+sessionStorage[_0x3eb805(0xb8)]('EmpName_Event')+_0x3eb805(0xd4),dbttbreserve[_0x3eb805(0xb9)](_0x2ad17d)[_0x3eb805(0xfb)]({'Memo':xMemo})),idttbMemo['value']='',$(_0x3eb805(0xca))['html'](xMemo);}function _0x33ae(_0xe38ab6,_0x2a3635){var _0x7d5145=_0x7d51();return _0x33ae=function(_0x33aeb1,_0x26285a){_0x33aeb1=_0x33aeb1-0xb8;var _0x16fe7c=_0x7d5145[_0x33aeb1];return _0x16fe7c;},_0x33ae(_0xe38ab6,_0x2a3635);}function CloseAll(){var _0x115f57=_0x4b6ab7;document['getElementById'](_0x115f57(0xe3))['style'][_0x115f57(0xcd)]=_0x115f57(0x114);}function imgError(_0x4fc1af){var _0x24cc98=_0x4b6ab7;return _0x4fc1af[_0x24cc98(0xf7)]='',_0x4fc1af['src']='./customer/box.jpg',!![];}function NewDate(){var _0x5381d0=_0x4b6ab7,_0x323613=new Date(),_0x22b1c2=_0x323613[_0x5381d0(0xcf)]()+'',_0xeaa4c6=_0x323613['getMonth']()+0x1+'',_0x24a673=_0x323613[_0x5381d0(0xe0)]()+'',_0x438d45=_0x323613['getHours']()+'',_0x338a9a=_0x323613[_0x5381d0(0xbd)]()+'',_0x14fcca=_0x323613[_0x5381d0(0xea)]()+'',_0x360e37=_0x438d45>=0xc?'PM':'AM';_0x22b1c2=checkZero(_0x22b1c2),_0xeaa4c6=checkZero(_0xeaa4c6),_0x24a673=checkZero(_0x24a673),_0x438d45=checkZero(_0x438d45),_0x338a9a=checkZero(_0x338a9a),_0x14fcca=checkZero(_0x14fcca),dateString=_0x22b1c2+'/'+_0xeaa4c6+'/'+_0x24a673+'\x20'+_0x438d45+':'+_0x338a9a+':'+_0x14fcca+'\x20'+_0x360e37;}function checkZero(_0x29c452){var _0x42f86d=_0x4b6ab7;return _0x29c452[_0x42f86d(0x106)]==0x1&&(_0x29c452='0'+_0x29c452),_0x29c452;}function _0x7d51(){var _0x1435ac=['#DisplayMemo','Age','\x20ท่าน\x20|\x20','display','FieldPath','getDate','forEach','<div><img\x20src=\x22','<div\x20class=\x22check-customermap\x22><img\x20src=\x22./img/false.png\x22></div>','ready','</font><hr>','3903020XEfNRP','AIzaSyDfTJJ425U4OY0xac6jdhtSxDeuJ-OF-lE','<div\x20style=\x22margin:10px\x20auto;\x20width:100%;\x20max-width:\x20400px;\x22>','html','idttbMemo','<div\x20style=\x22color:#fff;font-size:\x2011px;\x22>','\x22\x20class=\x22imgTable_2\x22\x20onerror=\x22javascript:imgError(this)\x22><br>','<div\x20class=\x22check-register\x22\x20style=\x22background:#ff0000;\x22><font\x20color=\x22#ffff00\x22>','TableNo2','ttbreservemap','\x20|\x20','getFullYear','3BGqRge','<div\x20class=\x22clr\x22\x20style=\x22height:30px;\x22></div>','id01','TableNo','<div\x20class=\x22check-register\x22><font\x20color=\x22#fff\x22>ยังไม่ได้ลงทะเบียน</font>\x20|\x20','</div>','<div\x20class=\x22clr\x22></div>','Registered','retailproject-6f4fc.appspot.com','getSeconds','where','<div\x20style=\x22color:#fff;font-size:\x2011px;margin-top:15px;\x22><font\x20color=\x22#888\x22><u>พนักงานที่ดูแล</u></font><br>','1:653667385625:web:a5aed08500de80839f0588','retailproject-6f4fc.firebaseapp.com','\x27)\x22>','collection','initializeApp','\x22\x20style=\x22width:\x20120px;margin:15px\x20auto;border-radius:\x2050%;\x22\x20onerror=\x22javascript:imgError(this)\x22></div>','1394343vSicHR','<div\x20class=\x22check-register\x22\x20style=\x22background:#777;\x22><font\x20color=\x22#fff\x22>ยังไม่ได้ลงทะเบียน</font>\x20|\x20','\x27)\x22>บันทึกรายการ</div>','getElementById','onerror','data','<div\x20class=\x22check-register\x22>','orderBy','update','CustomerName','LoadMap();','CustomerType','<div\x20style=\x22color:#ffff00;font-size:\x2011px;margin-top:15px;\x22><font\x20color=\x22#888\x22><u>บันทึกความสนใจของลูกค้า</u></font></div>','653667385625','Not\x20Registered','#DisplayProfile','get','16lFIqiO','16AhauaL','length','#RegExecutive','NameCompany','<div><textarea\x20id=\x22idttbMemo\x22\x20style=\x22width:95%;margin:4px\x20auto;padding:5px;height:50px;background:#7f9dd8;\x22></textarea></div>','Business','People','1990093QNSxTZ','<div\x20class=\x22TableGroup\x22\x20onclick=\x22ClickMember(\x27','17534ufiNBg','</font>\x20|\x20','then','TableGroup','<div\x20class=\x22btn-t1\x22\x20onclick=\x22SaveMemo(\x27','2089612BXxleV','none','Memo','\x22\x20class=\x22imgTable_1\x22\x20onerror=\x22javascript:imgError(this)\x22><br>','4876326ARgdmI','documentId','<div\x20style=\x22color:#f68b1f;font-size:\x2012px;font-weight:\x20600;\x22>','<div\x20style=\x22margin-top:20px;text-align:\x20left;\x20color:#fff;\x20padding:5px;\x22>โต๊ะ\x20','RefID','MaritalStatus','getItem','doc','block','Table','ttbreserve','getMinutes','TableNo1','Branch','\x20ท่าน','#RegStaff','asc','firestore','Profileimg','RegisterType','18047090XDawdo','<div\x20class=\x22TableGroup_b\x22\x20onclick=\x22ClickMember(\x27','<br>','\x27,\x27'];_0x7d51=function(){return _0x1435ac;};return _0x7d51();}
